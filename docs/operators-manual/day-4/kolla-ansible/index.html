<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">How to Prepare and Use Kolla Ansible | Openmetal Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://openmetalio.github.io/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="How to Prepare and Use Kolla Ansible | Openmetal Docs"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><link data-react-helmet="true" rel="icon" href="/openmetal-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://openmetalio.github.io/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/"><link data-react-helmet="true" rel="alternate" href="https://openmetalio.github.io/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://openmetalio.github.io/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/" hreflang="x-default"><link rel="stylesheet" href="/openmetal-docs/assets/css/styles.0b4a7092.css">
<link rel="preload" href="/openmetal-docs/assets/js/runtime~main.a78bd390.js" as="script">
<link rel="preload" href="/openmetal-docs/assets/js/main.32bb5b19.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/openmetal-docs/"><div class="navbar__logo"><img src="/openmetal-docs/img/openmetal.svg" alt="Openmetal" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/openmetal-docs/img/openmetal.svg" alt="Openmetal" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title"></b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/openmetalio/openmetal-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/openmetal-docs/docs/users_manual/">User&#x27;s Manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;User&#x27;s Manual&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_TwRn" href="/openmetal-docs/docs/operators-manual/">Operator&#x27;s Manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operator&#x27;s Manual&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-1/command-line/create-ssh-key">Day 1</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-2/resource-usage/cloud-resource-usage">Day 2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-3/add-provider-ips">Day 3</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-4/automation/heat">Day 4</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-4/automation/heat">Automation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_TwRn" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/">Kolla Ansible</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kolla Ansible&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/enable-elk">How to Enable Elasticsearch and Kibana using Kolla Ansible</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/enable-tls">How to Enable TLS for OpenStack using Kolla Ansible</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/redeploy-rabbitmq">How to Redeploy OpenStack&#x27;s RabbitMQ Cluster using Kolla Ansible</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-4/security/security-best-practices">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-4/troubleshooting/ceph">Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/openmetal-docs/docs/operators-manual/day-4/watcher/watcher-demo">Watcher</a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/openmetal-docs/docs/operators-manual-extras/">Operator&#x27;s Manual Extras</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operator&#x27;s Manual Extras&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/openmetal-docs/docs/how-to-guides/horizon/live-migrate-instance">How to Guides</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How to Prepare and Use Kolla Ansible</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>Our Private Cloud Core deployments provide workload orchestration
through the use of <a href="https://github.com/openstack/kolla-ansible" target="_blank" rel="noopener noreferrer">Kolla
Ansible</a> which deploys
OpenStack services and infrastructure components in Docker containers.
Should you want to make a change to an OpenStack service&#x27;s
configuration, add a new OpenStack service, or even repair your
OpenStack cluster, you can do so using Kolla Ansible. In this guide, we
explain how to prepare a Kolla Ansible environment, from which
configuration changes can be made.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="before-proceeding">Before Proceeding<a class="hash-link" href="#before-proceeding" title="Direct link to heading">​</a></h2><p><strong>WARNING<!-- -->!</strong> -- Our current deployment system deploys a Private Cloud
with a known working state. Should you deviate from this state by
adjusting your cloud&#x27;s OpenStack configuration you can no longer safely
use the functions in OpenMetal Central to add nodes to your cloud or add
IP blocks. Should you use these functions, any custom configurations
will be reverted. We are working on rolling out a new deployment system
allowing custom cloud configurations. We can still help you modify your
cloud, but must do so manually. Please reach out to your Account Manager
should this apply to you.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="table-of-contents">Table of Contents<a class="hash-link" href="#table-of-contents" title="Direct link to heading">​</a></h2><ol><li><p><a href="/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/#prerequisites">Prerequisites</a></p></li><li><p><a href="#using-kolla-ansible-quick-start">Using Kolla Ansible Quick
Start</a></p></li><li><ul><li><p><a href="#prepare-kolla-ansible-for-use">Prepare Kolla Ansible for
Use</a></p><ol><li><a href="#kolla-ansible-configuration-files">Kolla Ansible Configuration
Files</a></li><li><a href="#before-making-changes">Before Making
Changes</a></li><li><a href="#prepare-kolla-ansible-environment">Prepare Kolla Ansible
Environment</a></li></ol></li></ul></li><li><p><a href="#references">References</a></p></li><li><p><a href="#next-steps">Next
Steps</a></p></li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h2><ul><li>Root access to your cloud&#x27;s control plane nodes is required.</li><li>Experience using <a href="https://www.ansible.com/" target="_blank" rel="noopener noreferrer">Ansible</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="using-kolla-ansible-quick-start">Using Kolla Ansible Quick Start<a class="hash-link" href="#using-kolla-ansible-quick-start" title="Direct link to heading">​</a></h2><p><strong>Caution<!-- -->!</strong> Ensure the node from which you are working contains the
directory <code>/etc/kolla/config</code>. This directory exists on a single node
and is used to provide our custom configuration to OpenStack services.</p><p>Follow this section for a summary of the commands required to prepare
Kolla Ansible. For more detailed instruction, see the section labeled
<a href="#prepare-kolla-ansible-for-use">Prepare Kolla Ansible for Use</a> within
this guide.:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain"># Create a folder for your Kolla Ansible environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir /opt/kolla-ansible</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Navigate to folder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd /opt/kolla-ansible</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Initialize a Python virtual environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ virtualenv .venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Activate the virtual environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ source .venv/bin/activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Update pip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install --upgrade pip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install Kolla Ansible and Ansible</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ pip install git+https://github.com/inmotionhosting/kolla-ansible@stable/victoria</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ pip install &#x27;ansible&gt;=2.9,&lt;2.10,!=2.9.10&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Kolla Ansible, being built off of Ansible, is executed against an
inventory file. Each node in your cloud has a copy of the Kolla Ansible
inventory used during cloud deployment, located as
<code>/etc/fm-deploy/kolla-ansible-inventory</code>.</p><p><strong>Caution<!-- -->!</strong> Read over the inventory file to ensure the hosts specified
within match the hosts you intend to make changes to.</p><p>For a full list of available commands, see <a href="https://docs.openstack.org/kolla-ansible/latest/user/operating-kolla.html#kolla-ansible-cli" target="_blank" rel="noopener noreferrer">Kolla Ansible
CLI</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="prepare-kolla-ansible-for-use">Prepare Kolla Ansible for Use<a class="hash-link" href="#prepare-kolla-ansible-for-use" title="Direct link to heading">​</a></h2><p>In this section, we explain the steps needed to create an environment
from which Kolla Ansible can be executed. The steps in this section
should be performed from the node in your cloud that contains the path
<code>/etc/kolla/config</code>. This directory exists on a single node and is used
to provide our custom configuration to OpenStack services.</p><p>Kolla Ansible Configuration Files
<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~</p><p>First, we introduce you to the files required for adjusting Kolla
Ansible&#x27;s configuration. These files are used when preparing Kolla
Ansible.</p><ul><li>Kolla Ansible Inventory: <code>/etc/fm-deploy/kolla-ansible-inventory</code></li><li>Kolla Ansible Main Configuration: <code>/etc/kolla/globals.yml</code></li></ul><p><strong>Note<!-- -->!</strong> It is possible <code>/etc/fm-deploy/kolla-ansible-inventory</code>
exists on a single node instead of being synced across all nodes. We
recently corrected a bug where the contents in <code>/etc/fm-deploy</code> were not
being synced across all nodes at the end of a deployment.</p><p>Before Making Changes <!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~</p><p>Before any changes are made to the Kolla Ansible configuration, the
following variables in <code>/etc/kolla/globals.yml</code> should not be modified,
otherwise they will be overwritten:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">api_interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cluster_interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dns_interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker_registry_insecure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kolla_enable_tls_external</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kolla_external_fqdn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kolla_external_vip_address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kolla_internal_vip_address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">migration_interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">network_interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">neutron_external_interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openstack_region_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storage_interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tunnel_interface</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>For more information, see the section titled <a href="#before-proceeding">Before
Proceeding</a> at the top of this guide.</p><p>Prepare Kolla Ansible Environment
<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~<!-- -->~</p><p><strong>Step 1</strong> - Prepare environment</p><p>First ensure the node you are logged into over SSH contains the
directory <code>/etc/kolla/config</code>. This directory exists on a single node
and is used to provide our custom configuration to OpenStack services.</p><p>Next, create a folder where you will install Kolla Ansible and its
dependency, Ansible. For example:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir /opt/kolla-ansible</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Step 2</strong> -- Prepare Python virtual environment</p><p>Navigate into the folder created previously, create a Python virtual
environment and activate it:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd /opt/kolla-ansible</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">virtualenv .venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source .venv/bin/activate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Step 3</strong> -- Update pip</p><p>Update the virtual environment&#x27;s <code>pip</code> to the latest version, otherwise
packages may not install as expected.</p><p>Update <code>pip</code> using:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">pip install --upgrade pip</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Step 4</strong> -- Install Kolla Ansible</p><p>With the virtual environment prepared, we can now install Kolla Ansible
and Ansible using <code>pip</code>.</p><p>Install Kolla Ansible, and its dependency Ansible, using these specified
versions:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">pip install git+https://github.com/inmotionhosting/kolla-ansible@stable/victoria</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install &#x27;ansible&gt;=2.9,&lt;2.10,!=2.9.10&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Caution<!-- -->!</strong> -- It is important the version of Kolla Ansible installed
during this step match your cloud&#x27;s OpenStack version. Your cloud&#x27;s
OpenStack version can be determined by looking at the Docker image tags
associated with the Kolla containers from the output of <code>docker image
ls</code>, for example.</p><p><strong>Step 5</strong> -- Kolla Ansible is Ready for Use</p><p>At this step, you have everything prepared to use Kolla Ansible. Before
proceeding, familiarize yourself with the available Kolla Ansible
commands by running <code>kolla-ansible --help</code>. There are a number of
functions possible, including maintenance tasks or making configuration
changes to your Private Cloud.</p><p><strong>Caution<!-- -->!</strong> -- Kolla Ansible&#x27;s configuration is set through the file
<code>/etc/kolla/globals.yml</code> where some variables should not be changed. See
the section titled <a href="/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/kolla-ansible#before-making-changes">Before Making
Changes</a>
at the top of this guide for more information.</p><p>An example configuration change made at this step is to enable TLS for
Horizon. Enabling TLS falls outside the scope of this guide. For
instruction on how to do so, see <a href="/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/enable-tls">How to Enable TLS for
OpenStack</a>.</p><p>For complete documentation regarding available Kolla Ansible commands,
see <a href="https://docs.openstack.org/kolla-ansible/latest/user/operating-kolla.html" target="_blank" rel="noopener noreferrer">Operating
Kolla</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="references">References<a class="hash-link" href="#references" title="Direct link to heading">​</a></h2><ul><li><a href="https://docs.openstack.org/kolla-ansible/latest/" target="_blank" rel="noopener noreferrer">OpenStack Kolla Ansible
documentation</a></li><li><a href="https://docs.openstack.org/kolla-ansible/latest/user/quickstart.html" target="_blank" rel="noopener noreferrer">Kolla Ansible Quick
Start</a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="next-steps">Next Steps<a class="hash-link" href="#next-steps" title="Direct link to heading">​</a></h2><p>The following guides go into detail about specific things you can
configure using Kolla Ansible, such enabling TLS for Horizon or enabling
Central Logging with an ELK stack:</p><ul><li><a href="/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/enable-tls">Enable TLS for
Horizon</a></li><li><a href="/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/enable-elk">Enable Central Logging using
ELK</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/openmetalio/openmetal-docs/blob/main/docs/operators-manual/day-4/kolla-ansible/kolla-ansible.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/openmetal-docs/docs/operators-manual/day-4/ceph-ansible/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">How to Prepare and Use Ceph Ansible</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/openmetal-docs/docs/operators-manual/day-4/kolla-ansible/enable-elk"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to Enable Elasticsearch and Kibana using Kolla Ansible</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#before-proceeding" class="table-of-contents__link toc-highlight">Before Proceeding</a></li><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#using-kolla-ansible-quick-start" class="table-of-contents__link toc-highlight">Using Kolla Ansible Quick Start</a></li><li><a href="#prepare-kolla-ansible-for-use" class="table-of-contents__link toc-highlight">Prepare Kolla Ansible for Use</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/openmetal-docs/img/openmetal.svg" alt="Facebook Open Source Logo" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/openmetal-docs/img/openmetal.svg" alt="Facebook Open Source Logo" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright"><strong>2022 © OpenMetal, a division of <a href="https://www.inmotionhosting.com" target="_blank" rel="noopener">InMotion Hosting</a>.  All rights reserved.</strong></div></div><div class="footerContact_lPaK"><p>555 S. Independence Blvd, Virginia Beach, VA 23452</p><div class="contactLinks_EKti"><a href="tel:+18777289664">877-7-BUY-OMI</a><a href="mailto:sales@openmetal.io">sales@openmetal.io</a><a href="https://openmetal.io/schedule-meeting/">Schedule a Demo</a></div><p><strong>OpenMetal Central:</strong> <a target="_blank" href="https://central.openmetal.io/auth/sign-in">Login</a> or <a target="_blank" href="https://central.openmetal.io/sign-up">Create New Account</a></p></div></div></footer></div>
<script src="/openmetal-docs/assets/js/runtime~main.a78bd390.js"></script>
<script src="/openmetal-docs/assets/js/main.32bb5b19.js"></script>
</body>
</html>